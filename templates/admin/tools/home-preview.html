{% extends "admin/base_site.html" %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'css/admin_main_styles.css' %}
">
<style>
  .tool-preview-layout {
    display: flex;
    gap: 24px;
  }

  .tool-preview-layout .preview-panel {
    flex: 1;
    min-height: 70vh;
  }

  .tool-preview-layout iframe {
    width: 100%;
    border: 1px solid #d7d7d7;
    border-radius: 8px;
    min-height: 80vh;
    background: #fff;
  }

  .tool-preview-layout .preview-help {
    font-size: 13px;
    line-height: 1.6;
    margin-bottom: 12px;
    color: #555;
  }

  .tool-preview-layout .preview-help strong {
    color: #1e4db7;
  }
</style>
{% endblock %}

{% block content %}
{% include sidebar_template|default:"admin/sidebar.html" %}
{% with tool_slug=request.resolver_match.kwargs.slug %}

<div class="wrap"> </div>
<div class="tool-preview-layout">
  <div class="preview-panel">
    <div class="preview-help">
      This is a live preview of your homepage. Changes made in the <strong>Website</strong> tool will be reflected here.
      Use the <strong>Admin Return</strong> link in the top-right corner of the preview to return to this admin page.
      Note that some dynamic elements may not display correctly in this preview.
    </div>
    <iframe src="{% url 'index' %}?preview=1&admin_return={{ request.get_full_path|urlencode }}"
      title="Homepage preview" loading="lazy"></iframe>
  </div>
</div>

{% endwith %}
{% endblock %}