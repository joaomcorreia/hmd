{% extends "base.html" %}
{% load static %}

{% block title %}Portfolio | HMD Klusbedrijf{% endblock %}

{% block content %}
<div class="mt-bnr-inr overlay-wraper bg-parallax bg-top-center" data-stellar-background-ratio="0.5"
    style="background-image:url('{% static 'img/background/banner-default.jpg' %}')">
    <div class="overlay-main bg-black opacity-07"></div>
    <div class="container">
        <div class="mt-bnr-inr-entry">
            <div class="banner-title-outer">
                <div class="banner-title-name">
                    <h2 class="m-b0">Portfolio</h2>
                </div>
            </div>
            <div>
                <ul class="mt-breadcrumb breadcrumb-style-2">
                    <li><a href="{% url 'index' %}">Home</a></li>
                    <li>Portfolio</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="section-full p-tb80 bg-gray inner-page-padding">
    <div class="container-fluid">

        <div class="filter-wrap p-b30 text-center">
            <ul id="portfolioFilters"
                class="filter-navigation inline-navigation masonry-filter link-style text-uppercase">
                <li class="active"><a href="#" data-filter="*">All</a></li>
                <li><a href="#" data-filter=".cat-keuken">Keuken</a></li>
                <li><a href="#" data-filter=".cat-badkamer">Badkamer</a></li>
                <li><a href="#" data-filter=".cat-vloeren">Vloeren</a></li>
                <li><a href="#" data-filter=".cat-klus-en-reparatiewerk">Klus en Reparatiewerk</a></li>
                <li><a href="#" data-filter=".cat-stukwerk">Stukwerk</a></li>
            </ul>
        </div>

        <div class="portfolio-wrap mfp-gallery work-grid row clearfix">
            {% for item in items %}
            <div class="masonry-item cat-{{ item.category_slug }} col-xl-3 col-lg-4 col-md-6 col-sm-6 m-b30">
                <div class="image-effect-one hover-shadow">
                    {% if item.image %}
                    <img src="{{ item.image.url }}" alt="{{ item.title|default:'Projectfoto' }}">
                    <a class="mfp-link" href="{{ item.image.url }}"><i class="fa fa-arrows-alt"
                            aria-hidden="true"></i></a>
                    {% else %}
                    <img src="{% static 'img/placeholder-portfolio.jpg' %}"
                        alt="{{ item.title|default:'Projectfoto' }}">
                    {% endif %}
                    <div class="figcaption">
                        <div class="empty50"></div><a href="#"><i class="link-plus site-bg-primary"></i></a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center p-b30">Nog geen portfolio-items.</div>
            {% endfor %}
        </div>

    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const wrap = document.querySelector('.portfolio-wrap');
        const ul = document.getElementById('portfolioFilters');
        if (!wrap || !ul) return;
        ul.addEventListener('click', function (e) {
            const a = e.target.closest('a[data-filter]'); if (!a) return;
            e.preventDefault();
            ul.querySelectorAll('li').forEach(li => li.classList.remove('active'));
            a.parentElement.classList.add('active');
            const sel = a.getAttribute('data-filter');
            wrap.querySelectorAll('.masonry-item').forEach(card => {
                card.style.display = (sel === '*' || card.matches(sel)) ? '' : 'none';
            });
        });
    });
</script>
{% endblock %}